{
  "summary": {
    "num_cases": 40,
    "hit@1": 0.65,
    "hit@3": 0.875,
    "recall@3": 0.8,
    "mrr": 0.7458,
    "precision@3": 0.2917,
    "ndcg@3": 0.7364,
    "map": 0.6979
  },
  "cases": [
    {
      "id": "ret_001",
      "query": "CPU 使用率持续过高应该怎么排查",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "cpu_high_usage.md",
        "disk_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_002",
      "query": "内存持续升高并且出现 OOM 应该如何定位",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "memory_high_usage.md",
        "memory_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_003",
      "query": "磁盘使用率告警后应该怎么处理",
      "gold_sources": [
        "disk_high_usage.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "disk_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_004",
      "query": "服务不可用 503 的常见根因是什么",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "slow_response.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_005",
      "query": "接口慢响应如何定位性能瓶颈",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "cache_tuning_playbook.md",
        "mock_incident_drill_script.md",
        "slow_response.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 0.3333333333333333,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.5
    },
    {
      "id": "ret_006",
      "query": "高 CPU 和慢响应的关联分析思路",
      "gold_sources": [
        "cpu_high_usage.md",
        "slow_response.md"
      ],
      "pred_sources": [
        "cache_tuning_playbook.md",
        "slow_response.md",
        "slow_response.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 0.5,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.38685280723454163
    },
    {
      "id": "ret_007",
      "query": "OOMKilled 和内存泄漏怎么排查",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "memory_high_usage.md",
        "memory_high_usage.md",
        "monitoring_glossary_noise.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_008",
      "query": "数据库慢查询导致超时时先看什么",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "slow_response.md",
        "cpu_high_usage.md",
        "monitoring_glossary_noise.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_009",
      "query": "节点磁盘满导致服务异常时如何处理",
      "gold_sources": [
        "disk_high_usage.md",
        "service_unavailable.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "disk_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.6131471927654584
    },
    {
      "id": "ret_010",
      "query": "网关报错时优先看哪些日志",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "log_format_standard.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_011",
      "query": "高负载场景下如何先止血再排障",
      "gold_sources": [
        "cpu_high_usage.md",
        "slow_response.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "slow_response.md",
        "service_unavailable.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 0.5,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.38685280723454163
    },
    {
      "id": "ret_012",
      "query": "服务不可用时标准恢复顺序是什么",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "service_unavailable.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_001",
      "query": "CPU 告警排查和线程级定位步骤",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "cpu_high_usage.md",
        "cpu_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_002",
      "query": "频繁 Full GC 且内存高水位如何处理",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "memory_high_usage.md",
        "memory_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_003",
      "query": "磁盘持续增长该先清理还是先扩容",
      "gold_sources": [
        "disk_high_usage.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "disk_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_004",
      "query": "服务 503 时先查依赖还是先查网关",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "service_unavailable.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_005",
      "query": "P99 延迟上升时如何区分应用瓶颈和数据库瓶颈",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "perf_capacity_planning_false_friend.md",
        "cache_tuning_playbook.md",
        "cache_tuning_playbook.md"
      ],
      "hit@1": 0.0,
      "hit@3": 0.0,
      "recall@3": 0.0,
      "mrr": 0.0,
      "precision@3": 0.0,
      "ndcg@3": 0.0
    },
    {
      "id": "ret_hard_006",
      "query": "CPU 高但业务指标正常时可能是什么问题",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "monitoring_glossary_noise.md",
        "cache_tuning_playbook.md",
        "cpu_high_usage.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 0.3333333333333333,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.5
    },
    {
      "id": "ret_hard_007",
      "query": "如何联合判断 OOMKilled 和连接池耗尽",
      "gold_sources": [
        "memory_high_usage.md",
        "slow_response.md"
      ],
      "pred_sources": [
        "memory_high_usage.md",
        "service_unavailable.md",
        "monitoring_glossary_noise.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.6131471927654584
    },
    {
      "id": "ret_hard_008",
      "query": "TLS 正常但服务不可用时排查路径是什么",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "k8s_ingress_tls_guide.md",
        "k8s_ingress_tls_guide.md",
        "k8s_ingress_tls_guide.md"
      ],
      "hit@1": 0.0,
      "hit@3": 0.0,
      "recall@3": 0.0,
      "mrr": 0.0,
      "precision@3": 0.0,
      "ndcg@3": 0.0
    },
    {
      "id": "ret_hard_009",
      "query": "数据库超时导致接口 500 时先查什么",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "slow_response.md",
        "cache_tuning_playbook.md",
        "slow_response.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_010",
      "query": "磁盘告警恢复后如何避免重复触发",
      "gold_sources": [
        "disk_high_usage.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "disk_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_hard_011",
      "query": "高 CPU 与慢响应同时出现时的根因定位流程",
      "gold_sources": [
        "cpu_high_usage.md",
        "slow_response.md"
      ],
      "pred_sources": [
        "cache_tuning_playbook.md",
        "mock_incident_drill_script.md",
        "slow_response.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 0.3333333333333333,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.3065735963827292
    },
    {
      "id": "ret_hard_012",
      "query": "如何用 heap dump 和 GC 日志判断内存泄漏",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "memory_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 0.5,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.6309297535714575
    },
    {
      "id": "ret_adv_001",
      "query": "演练里出现 CPU 高和 500 错误，线上真实排障应优先看哪类文档",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "mock_incident_drill_script.md",
        "cache_tuning_playbook.md"
      ],
      "hit@1": 0.0,
      "hit@3": 0.0,
      "recall@3": 0.0,
      "mrr": 0.0,
      "precision@3": 0.0,
      "ndcg@3": 0.0
    },
    {
      "id": "ret_adv_002",
      "query": "术语文档提到 OOM 和 Full GC，但我需要真实内存根因分析",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "memory_high_usage.md",
        "memory_high_usage.md",
        "memory_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_003",
      "query": "缓存命中率下降引发慢响应时，如何判断是不是数据库慢查询",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "slow_response.md",
        "slow_response.md",
        "cache_tuning_playbook.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_004",
      "query": "容量规划里说 CPU 峰值 72%，但现在告警持续触发该怎么排查",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "cpu_high_usage.md",
        "cpu_high_usage.md",
        "cpu_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_005",
      "query": "演练脚本包含 slow query 字段，如何避免把演练日志当成真实故障",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "mock_incident_drill_script.md",
        "mock_incident_drill_script.md"
      ],
      "hit@1": 0.0,
      "hit@3": 0.0,
      "recall@3": 0.0,
      "mrr": 0.0,
      "precision@3": 0.0,
      "ndcg@3": 0.0
    },
    {
      "id": "ret_adv_006",
      "query": "TLS 和 ingress 正常但服务不可用时的排查顺序",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "k8s_ingress_tls_guide.md",
        "k8s_ingress_tls_guide.md",
        "k8s_ingress_tls_guide.md"
      ],
      "hit@1": 0.0,
      "hit@3": 0.0,
      "recall@3": 0.0,
      "mrr": 0.0,
      "precision@3": 0.0,
      "ndcg@3": 0.0
    },
    {
      "id": "ret_adv_007",
      "query": "磁盘增长和对象存储分层是规划问题，线上磁盘告警怎么处理",
      "gold_sources": [
        "disk_high_usage.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "perf_capacity_planning_false_friend.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_008",
      "query": "监控术语解释很多，但我只要 CPU 高告警的落地处置步骤",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "cpu_high_usage.md",
        "cpu_high_usage.md",
        "cpu_high_usage.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_009",
      "query": "不要给我术语解释，线上出现 503 时请按真实故障排查顺序给依据",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "slow_response.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_010",
      "query": "请忽略演练脚本内容，只基于生产故障经验说明慢查询导致超时的定位路径",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "slow_response.md",
        "mock_incident_drill_script.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 0.5,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.6309297535714575
    },
    {
      "id": "ret_adv_011",
      "query": "容量规划文档和真实告警冲突时，CPU 持续高告警应参考哪份处置文档",
      "gold_sources": [
        "cpu_high_usage.md"
      ],
      "pred_sources": [
        "cpu_high_usage.md",
        "cpu_high_usage.md",
        "perf_capacity_planning_false_friend.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_012",
      "query": "不要参考 ingress 指南，我要服务不可用场景下应用侧和依赖侧的排查步骤",
      "gold_sources": [
        "service_unavailable.md"
      ],
      "pred_sources": [
        "service_unavailable.md",
        "service_unavailable.md",
        "service_unavailable.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_013",
      "query": "mock 演练里有 OOM 字样，但线上频繁 Full GC 时应如何判断内存泄漏",
      "gold_sources": [
        "memory_high_usage.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "perf_capacity_planning_false_friend.md",
        "memory_high_usage.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 0.3333333333333333,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.5
    },
    {
      "id": "ret_adv_014",
      "query": "缓存调优建议很多，但当前接口超时严重，请优先给数据库慢查询排障路径",
      "gold_sources": [
        "slow_response.md"
      ],
      "pred_sources": [
        "slow_response.md",
        "slow_response.md",
        "cache_tuning_playbook.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_015",
      "query": "容量规划提到磁盘增长可接受，但现在磁盘已告警，线上先执行什么动作",
      "gold_sources": [
        "disk_high_usage.md"
      ],
      "pred_sources": [
        "disk_high_usage.md",
        "disk_high_usage.md",
        "perf_capacity_planning_false_friend.md"
      ],
      "hit@1": 1.0,
      "hit@3": 1.0,
      "recall@3": 1.0,
      "mrr": 1.0,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 1.0
    },
    {
      "id": "ret_adv_016",
      "query": "请排除术语词典和演练脚本影响，给出高 CPU + 慢响应联合排障方案",
      "gold_sources": [
        "cpu_high_usage.md",
        "slow_response.md"
      ],
      "pred_sources": [
        "mock_incident_drill_script.md",
        "slow_response.md",
        "slow_response.md"
      ],
      "hit@1": 0.0,
      "hit@3": 1.0,
      "recall@3": 0.5,
      "mrr": 0.5,
      "precision@3": 0.3333333333333333,
      "ndcg@3": 0.38685280723454163
    }
  ]
}